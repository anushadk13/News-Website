const api_key = "241a83ac3751433db87d698939c7aac3";
const api_url = "https://newsapi.org/v2/everything?q=";

let curSelectedNav = null;

window.addEventListener("load", () => {
  fetchNews("India");
});

function reload() {
  window.location.reload();
}

// Default News Article
const defaultNews = {
  imgSrc: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUTExMWFhUXGR8aGBgYGRoYHRsdGhgYGCAiGhkdHykgGx8lHxsaIjEhJSkrLi4uGiAzODMtNygtLisBCgoKDg0OGxAQGy0lHyU1LS4tLS0tLS0tLS0tLS0tLS0tLS0vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIALcBEwMBIgACEQEDEQH/xAAcAAACAwEBAQEAAAAAAAAAAAADBAACBQEGBwj/xAA/EAABAgQEBAMGBQMCBQUAAAABAhEAAyExBBJBUQUiYXGBkaEGEzKxwfAUQtHh8SNSYgdyFTNDgpIkY8LS4v/EABkBAAMBAQEAAAAAAAAAAAAAAAECAwAEBf/EAC0RAAICAQQABQMCBwAAAAAAAAABAhEhAxIxQQQTIlFhMnGBofAUI1KxwdHx/9oADAMBAAIRAxEAPwD7dEi0SMAkSJEjGJEiRIxiRIkSMYkSJEjGJEiQKbiUJSVqUkJF1EgANdzGMFiQORiELAKFJUCHBBBp4QjxzjsjCJCp6wl3yi5UzWHiPOMY0okee9m/a2VjJc2ZLRMCZV3TehPK1zS3Ubx8v4r7YYjEIyLnlKAo1+EqcgsUp20263hZSUVkFn1XjPtVh8OFOsLWkPkTU3AvYeJ0j5r7Tcbm40JlmQEISorqoqIVUUIIoQbNHkMRLElJKSsEkOVVQR8VH0/aM7F42coqQJhUKEEWBIrEnKcuOAW+zSxWCUlSkgGYyM5cgJSBQk1ajs14xJk00dy6X7O9D1hqTIU3MRuXen6wsFqCjlBqWhVSwFPIxhsTzy2Ay0FAxcV5qXr6QTFySJhzVCjmBdyxrXq2kAwEpQmCmo02P0jXmyke8U4W/wARoWY7N5d4E50rGb9INMskcpCBoTcnpQmAy56ZaBqfzbP17bwtMxy58xGY2csnbvs8PSeGg89nYEODr5D5RHEcTJoWHD1zVBYTTa3kde0GDI5Eil6X/jr1h2fhikApmsbM702c62jOnF5hGZk9aGm9h4/xAjqOf2GiaCccrIUpuNdq1fexjDnutZWpZu4Na/pDyATmSgs4OYswFPWpeM38OpBVnIADai1+5howSdoLR3HWBd38z9bQxwrAKnmYA4KEBTBOYq/qy5TCoYvMB7AwSXNl8qQSos7lwk+FH8WhhE9SAsISGWkILhQLBaJlGKSllITUOzb3dSrDB9w8nga1y5PulZhPXllkoIBX71cpLlyzhKlm7DQmK4P2eVMSFSl5wSoBISErUpGRWVKCrmJSrMzvyqDOACSV7TKloGVkkKYBqIeYZ6SKs6VZmOgJFixBLx62ypCEy3JSgJYZlFDn4nfkSAzMAw1gzlQ03VIN/wANT7szJcxSlBZlpdDZlBIUwCi4d2ci+msXxfDPd58ywyCkrypUXlzEZkzKtmFgRoSkXIEAXx+apRSpHxTFTVKVQlawQTTzoKGL4vjf9NThJHuvdOQSSj3gmhy9wsCulBEm88E2xKTjJWUf0x5AejRIEcPLmc5JBVUjMB6aRIFR+RcH6kiqyQCwctQWfxiwjzPtB7VYeVNVhlzVylhIUVsMozAsHv1cCjXj0Sp5XjftXixiQAv3IBykXTyqUCTykaVqaCPonCeJS8RLEyWXSaeIj4oceklajOcsQAE0FCHzK5mI008I9J7Le2wlSJks5AyFKlkuCV1IBT+Z7uVQZSj0BM+pxI+c4z/UCYjCyJiUJKlFSVqNXUhhQDK2YEKegDtGbxT/AFNmhZQj3WUpAzoCnBKRmbMLhROhDAQm41o+sRRc5IDlQA3JEfB5XH502ambOnTVBKAhkLKHAoSo1PMHG56GsZyMclC0OVzJaVZ/dTF8hL0tpTua6Rt6BuPuKfa7BGX7wYmWU5Sq9WCVK+G9kn7MJ4T26ws6VMmSSqYpCQoywGWXKqAalkksHpHyLDcVRJ5pEmSCJgUkzP6hSmhKQVDKACHdn6wDifG5mIYKmJlpCisJlJSjmJcq5QMyrgE+cDzIg3H0r2r9plTgjDYeVMWZ0gTk5F5FppnGfRAFHCiHdqUjw0zjeInITg8RPkyZaDkIIzMUZviIq5/u9Yx0LUCpWdSkqoSSdmDh6l9dIUm4VlgJOYuxIHpC+YmbLPS8MXLwGMlTJOKOIli4RmScpqxBDKf7OsaHt/x9ONVKMoLle7d8xHMCxqm2m+seZwMgIKl2NiTUmu33aOYvGoSgkAHoplHuHNB0iEtaUpUjUxtOKXKlCWhSlIKswSlWViq5al6CM6bhwssuYjIk8oSC9q1Z2qHJvAcJiytQLBxYih1F/p1h2ahIcLJKibAE16mmnyhW3HkKQHE4dKi5BykuauDTUNeLYfDg2GXqQfTR4EtHMluYb6eGj/rGjJUVJAQEpte6rs76i7Qk5Y5C6FpyAGYFXNVg3WpavhFV4cK1Zzpt0MLT5pVmyvSlCWLH+bRWXiA1FKfUF3Dat6wtOhLZoysIKMD0AD23P7whxHic1M4ykgFyAOpISfIF40JCkzEZualCzgeOUG/20dMpK5iQ1WY/+KmrrSnhAhKoy3ZoeOYMHKw4TUhJP5mZq1LnU6wXGLAAIJNW5k0FHpWlRUQZRSOUUSLgAaOaa/S0AVLBOYrBN2BHUWD1r6xDdbtiIDNnrVRuTq6RtQ6+EB96xISklgzNQ23YN5CGDlBu50oQR3Ae+8AVMGZgK9Dp1DBoaL9kYUmTilNBqQzMzbaEwnh8YJqnWlw+pYfDv3h6eDZx30qXhHIAHTWvQfx2jpjTQbCoISkBymgs22j9IsJwZ8xY7X8CIWKHFcpDbad4GVat4kgDyg7bNVjs1OVyzuQQnrlYabCAnGgk5khCh1qR1YUDwTETEmXmBqFAV2Y184XQ6jZ9Ln/6/OHkk3Y+plnQlJUCBQBqFR6XqYGJB5hmcP8ADTvrBGAahJO7BvA6dWhzDzAEkF61Gmnbr6wG6WCdEly0sHWoHuRHIIJBNXm+CVfrEiO75Aeox/tGRMCpc/E0UhYSoukEFKiGJBqUkta0YfFeKifOVMUtS1ryAFeUEZRlOYJASX7Cw1gfuCACmYMppV3rqwgCsGlJqUuc3MHeobb7+fob75HoUlLImKI+EGrEsH66Q0Z7uQGSHcjr83LR2Rw1OU85L1s3Rt4YTJASKigs1+73hZSQKMrG4pSqlSlGzEnU7vBpUk1CyCQ/wWbu0HnLl05QDdwNRt+kJfigOUB/R+r7wXJtYA8D0pSAxBI6fvBE4bOylMBYAFq2f1gkhKQkpAIcczh3YPQ92OkBKCzZnDFT6gVNOjRFyb4GSCplS0hstWrr4s/SEE4IoIy8w10a7BzbSOqnpFCqpuR/P28GVMcO53YMKeMbKNKjgnqVQBgNdBffV6RY8QSksHsBQN3794VxAWU8qQxc3Cf576witBUoDIXFPTr5xqTAmak/EFyxcA21B8IGslQdRYN3H8xzFJaZlArc6/E6vlCc7DzXCUnmOmpr8oaKSY3DNDhC0BlB3Dsql6uW6dYvxCaoalRUxcvoALa763jnDsOqUqqWUxFS4ND8TikFxYZVVB8o/wBoGV/CFkk8j7WlkSWVpDggMHvfQi9G7bbw6rHkM75gHcEdb6wkOJVACE0HxWqK/MX6wKTkupBrZzo+wrvE5RxlE2dViiVkOA9SXdm3D08TrDqJeqajcPVoz57MWPMoUIoAa63I6PvAZK1Eipe93HlB22hUbGCxhGYAJfR/qdIp+KQgsSVFV2sDXpaqoSOHWV3IDWA+vhB8HgFKmcxZN20e1SYG2KTvsvHTdZ7H5PFkm7B6BhaugaG04zMOQFW1B8z9THcDwZANQH0bfWGDw5ySlgbAFh67xzTULwdEfBqS+ozMdPUlJKhk7sD6EuIWl4sFIDjfTpU1r4xXHcKKlVUdABdm3hU4FSOUVBiqhHbRGXhpILOnHM5V4UD/AD8oVm4tR+EADUnp07xaZw5aVABw9SqCyuFH+4v4177xRbEgLQk3RnTJ6z8OV/UxSXLmKopvmfS0a8nhJINfGkAXKnJdIAbsPqDDqceij8LJBU4RQSC1DWvS0WKUlJCtR5B4ZwsiaquZVQzF/toVWFP8JVo7a/ekJvt5BPSaVsSQtKRkS9N3rXUPF/xJKmHxJDh7ekdlcKUpZqM3jpDkrg8tipSl7U5a7an6UhpTguTmdCa8xNMrf7lfQxI1P+ByDXLp/erZt4kT86Hz+/yDAdSDmINx9LQ1Kw4yuo6VYBwNL/dIycTiiFqYdxdu94akIMyWB8IOh6n7NIed0FOxkzZd0/FYNY3Z60PWBZgH94KvfUCgp6xmAlCrhtfvaHlkKDlTOPP9ISqGM/FpZRGhs976+ELTZNQSzRpDBupV2oARUuz13a0AYSlvMQF/4k+p+kdMJL3J0P4dKpZY5aBmOYs4NhrtWlYSn4hgoPykVHQMb61rDEycqerOQ3iwYfbQGZgxWodtKt4VeE3JMZMyETsrsf28TY/rDOHnFTvQfM0IZrvV4FjMIwqQ1gQ9C1H+9ItJw2UElRJLC2uvhpSHbTVmeSyMQQHJd9H9OgiyUqCguXUk3OmvjFBwpTpXmdLsSQ2jxpoxEqS4SAq3N26B2IfyaEnLbxlgdoJjcPNJQpCXJSkUFmQkkjzbwi02UsJyZCpX5iBZ7gUBPhGgjigUhypRrZ+gaptazRVeOmKWGzG4yhhob39Wjnc23waldi6MUEAe+bm+FFfVun3SL4paZjBCWVqSCRbSrWarR3DpRMVzIKl3aim8TyjtDs0lI5UgnWt2uzVMTetWEgqbXBjzkypbZg6h4DwAhfETk+6JTRd2oafT9oe4hLQslSjl0ajeX28KK4eJiFJDISlnWqxqmnWjmkV0/XQyto89iJhzAhQHQH5+saHDsVLzhS0qWBUB8rk0FRoH8Y0+H+yuGnAFOIVnq4AAs1n06wdfseZZBQvMkDUVDF6pFxHY9PAYwZfhfEUFaVEcqVgq5QAQ4zAVj1GK4/hVOPwaVNUOlI8X+7x4SZPyKKRudB8tI1ZCkgAUzbu/X9NI45TcOCjnJumz0aeM4JKW/Csf7RysNbGmkUw3EuHLJzyVo/tIWttallRmzOHKnozIllShU5WJZ2rvUjzhjh/+n2JmOVkSUsGzcyi+hD8sUgpv/hpqSNnBy8BPJoU6D+otL1Nb10h5XszhHzAkpAf/AJhIt36xbgvsNh5AzTFqWfBKfu+segkrSOVCAAkUcCLw0/6kjJrs83J9hsMuxWLWWbm8BT7E4RNlrc6FZNvCkJ+0XGJv4hXulUJy0/uS4J2avpGNJlql8wUBMNAmpNTqXq9KRz6uvCDqkGKt8DWL4bgpc1aCqcrIBmKTQEh2O5ZvOD+6wJS6ZiwR+VTuabAF4yJ+NmlX9SikjQsK/rCM3GrKmJIA6sfl8/2hHq7uIoR67Te01eITZImqlylcqQCCeYks/KNBuS1+kZk2eUlwQBcCgHm2j3gMzFhQKSosbkMKMBdq99GjNOIycvMdiVM3gOvyhFHd0TnqSm7Zo4jFKSztzWs0Bm4w3DC75de9O9KQnMMxQDpJCmY9te8Oy8OhFMi1GznN9GG+8NtSEIgqUAfdH1+lIkd98n+wnqVKHyiQPwYEhZNg5CSSACSG6CHxh1ZBUPsXTpmuWG/2YzJqMys2YpUNRaHTNORLkvWn3veLSfFDKrF5mEUSRUBqanew+cBmLsDRvBmiYqbWozAb/WAysRmUAA3r0ob+EFBs1cKtw1PC7M9PsRXHYJLguQA7u5UqgFSflDuDwQQLsaO77E2/aCTEoI0Om7erA9aGOd6nqwBmNNWHIOZmAHM3lt3hYYhPXSmtag3rDPG5KlBLEM1Xal/ygmnUQtJ4U6QoqZLtzOnN0DOfQR0Jxq2AJhpC56ilLrewHl9mNGdwqbJf3icpLEKoQHAFT4O17Q3w9CcOpK0FnH+Obq6i4Gtv55xOfMmqcgJAcj8xc2yk7BrMA0K9SNclGoqPyKT8qJfKVLUSKqDNvlDgkGtx4x55Dl6U7kEufWN6VhFfEylUqS5voSKHsDFRhx7wlKc5F6UoPrt6wFqIRuynDcIpBJBp1Vleny6teNaTgpZUFFeYjRIKQCGuU1Pj6QDCS5jkLdB1CQT2zEeghhRZIBVMIHwkpqSPRINdBHLObbwLfsGZVAli1mJLdC5PlUxVUhQqU8o3Cmp3AYftB8PgVTWOVZF6jazAVBG+rR6GRiESgAMDKIYDmQpZJH63tFNPw0554+46hZ4SfhiSGyF9AvZjY+NOke04Lwo4nCIQpSULMyYxy5hlSJdsoAuY1Pwq5qT/AOjwskG/9IKUoNYj4QPOJh+LzMKMqpEuj5cqUyxVnbIAnQaPQR26WlKD5HUaMDCexcuZ7oS8Yk/h5yVL/orGbnIy1s7KD1j1uJ4JKdQBXQFTVs5FPEGMvDe0CEZsmGAzEFTTDUhRULg6k+cMYL2mdXPLKiQxJVUhyrQAUezR05G44MninBMIge9XJmTE/nYhxsTR2cAP1vC2C9ocCgAjBgFOpAVowcmtY0fa72tyiUnCy5ayrNnBStSktlaiVAB3Vu7RlcL4SJqQpcqYhRqopGVIJJPwqanQExy6mnJfSPK3lGuPbdDZUS8ramgHgKxj8Q47iJszNnAS1EhRoal7QaZ7JJUo5Z4zaBSWfv8AxGZj+CYiRVSAE2BBDW6tEJPWSJyvsYxXtFOIlpCkAo1JJchx4UMN4r2sUuWUIRkdNV5sxfXIBrePNFaALp8Dr99YDOQQp2VXUAh6tU/WEWtP3EcrG5U5LCtK86klTGx0ZNPnAMNJc5gXY3DDSrKVU2McmIUlLuo1sS/hC6uJsWCC4plalbhvL1iNN8C7mqoNOBSgFFddXZ9Br+8JDiNyRTR+lTBsZMKTmJDH4msnoelQ0IY2Yg/mFdQfBtfsxXTjfIofD47OoIAYPRq2uSG8XPhD6sJJCwoklQuQOUUfW+zR5zBTFJUWuxHU0uersYMpE7mZ1MHa5LV7vo/XpFJaecOg0eln4xBYIITSr8vfcVgn45KeVRU1jmF+lm8DGVhcOspfOArYkA6hiD8zBVcCmAErzpq9Q7mtRpsfAxBxgsNgGlzZRJ5UHrmI9NIkdlS8oAz+jfWJGwbJh+8Q4cH76WFvlGhgZpCsoNDY3LU106xm8LQAoOHO2/0jfTMEsZ2CSNafUdGfvF9V1gJm+0OCbIoAC4O9CL/OEuFyTmSQHIL/AHSNNcxM5IQpkKJcbHuB516QTh8nJQnmBt4MSx0JJudoMZ1Bp8jJ8jxQqqlLbwBJ6aAd4slKjaiQKk6HWv6RSdiUpJ1Ju7igpfW9mMDM1SqIlrbQAMK7O5v8rCOXL6EuwqFpT8IcOalndzYG51cxh8TnCYoZSWTS2axufukP4tK0JWWUkv8A5DVIJ0L3vGTJZ6I8H+Z3isEr3B7NbCBSwGokBszZie21tobRg25lFR6MsnzbtR4pghyBQy3o7liaBwzAdfWHMy2LIctUpUG3pVz90iM5O6QrKrwzDmoGsTlFXpSvqKvHJeDBSUnNlcUSSNqAv8vSOSELJqkpIsctN+vyHhHFpA5VAsaAgFL9GoRUPr5CEzwMohFul8pSADTLyGu5cvY38oWXjMpch9M2W1iSQW7xYSCDXMUdSCpVX1cAdb9ouhYSxlhqMzqU19iAa+D6wcIPDC4HiAmFRSgsEguSsE/1EJJYEBua9OsL+1WMMrEhAcgyFL/5k1NgvRKwNLs/WPRexPEDLnKJSSSgp5loDspJNXsw1EezPHE1eTW5Yg6H9I9TwiWzA6yeRXh2RIbMM6JZotespy9a28bxmezGJM+YtCjM5UTfimlYdClpsU9N499xHjUqWHVhpywEBbole8DEhLBi7jNZrAwPh+PwZmFKMOULKVkkycjgVVzNq9nrHVgY+b8Y4quSwzzxccq5ehOipRjc4dIOJQ5MxQ96xCyg0zKDcqRS29o2+IY/gxLThLCq/FLWLEpNct3Ea2Cm4LKDJKGKqM4dTkUBuXe0DAciuHkJEgrQhKS7BhZlNbtGriMJIUwmOFflKSQfABwfKFfeyUyZiSoLEsnOkkAu+YCpAvQV6QPGSZUybKmKSQtKXSSCCkEgmmhoHHQQJcBjyeL9quM+6EsSlrUpVVAl2GgPc+kYnEuLKmIyzCnKC7pKqFmatCL6a9IB7WSZAmp/Dlfukg51Ziok3pm0/ePOrXm+E3fTt5RxSVvDJ6k25P2Nb38tVDk6htT1vtUXa8GlYn3aQnOQAG79W+keaGHUEvVrdiNKWhzD4NSk3U4qB03cGnbpCS0lWWTN1M9SmZfUtc1tvC+N+PNLDE3qOn6fxGErENRyDdy7u380hyTNLVJAvsW8NevSEejtygBBNYMQcpcKINK07+sZuKmSwkABJyqo1zu7fdYek4la1CWASn8ygxDa0YabRXifDM6ClLOn4WFxsdieusPGk8h7E5XEg1R2f9hXW8H4TiFKWSnlchIU++yanq/yjAnyyglKgQoXH8RqcCW4KRooEvY1DaWDHzi04JRbRmj202QJCjnOdSmLuQwFxXd30MFxPE5iswNMpyswIrW9rd4w8bOJmBSiFNrcFtjdooMcpRILNQszhwALdqR5/lN03lj8IYVicnLndtk+O0SLy8XKapSDtkf1iQ+fYnSK4fD+7TdCdwOZXnaA8USFoYKOa9Wr99zDo4aAoFRKSa0CVKLUqHcCHUYTKcyVChcAockagk6222jeZm7yGmzF4dwtNVkHNo4LW0YZtu1I0sNw6YosSlIu5pvqTfzjquLJDAJzE0KQE01A5ab0G0MjiaFAhbSkOwdXMS1qU0hdSeo8pf5D9iYXAy0gkkKIDhRBJPYMAnvWCYeakOFKDNQBiasS4yn5wHFYkgVU5tl5lHo5JZj4QtJxaXZKXPh2+cSjBzTchUr5HMXzIMpU05VGnKEtrdw+9oxcZgsisksktcqDa6H9IaznMCL1VSuUN15fAwVXEC39QuolipT2L0CU0f8AeHhFxfp4ClkVw2NYlBSAkByTzO+lyK6imusCXxHMSAQALZSz1B2oP3gnFMaMiZeRkg0rmzG1Tp5xiTsSog2CR2ejbafrHTCF5o0uTak8WaiyMuagIDO2gIPnGjNWMmWrG4KsobpkDebd48zg+FrWHzhwCcruatpdo1Zc4S3TMQVWdsxBPUB62uwHrCakFeDZLolBXwtlcCmc12JCuZuoAENiUVDKkOX+IkEFtmLno1KwvMmJBZ5aaUCVhJZq5swKdbRWbNmISVPmVUZjzXBNS4DBttBCJOTox7H2P4HKUEzpuKEuYyk+5K00GZgSSQo0DhmvrGnxD2KM0lSMQguFC28qfLFibe9Hkd4+TnjWKH5Jaxrykf8Ay+kWRxydV8OOlSPpSPWhpqCotHCPqftX7G4mexlLQ4w6ZXMpSeZK5ancJNGSqvURz2a9mMbJnoVMW6BLmpLLcOvLlo+jGrU8Y8DM9oJmGXkXLmpUBmZK8tGd2JBNAbQ5g/8AUVTt7zEpPVRIp/3GM5U+GdWnoQmrepFfez0XHeBcQ5RLE2mZyFBX5lNR9o2fZ3hOJBT74KH9WYpmYJR7zkGzNHmZf+oU6yZ6v+5AOgP9p3ENyv8AUGfquWf9yG+TQU7RLUgoSpST+x6IYRsNMSQVKUt+Ylyy0kOVVLAU6CkKcfx7hapZ5siwlQsFJBp6s8eaxntPNnmq0ZXzZUMzivVXrCuOxKZi83IktZANbkkuSS9akwmre3B1eDhpTlt1G1z0eLTiW+JwdQp/JorMlAtkJQ75r3v4beAhTiKwZiinMxOtSz6wxwXDlai6lJSBcAq8LtEaSVnlyVN0OicpBcOUpNCpnJuLbFqxDPKsocpUT8JGtAKD67xr4HDCWAUqFPiURUs9tq3+rRdARmBKQo7liw1ANzfej6RBzXsKJzeGoUB7xZcmwKTbXqKml6waVw6TlKSCof3PZhrlO0dn5SnmKwAaOQG0YGgPlrAlJOYhWZxYWYHV2fcwlv3Mck8MQkn3JYHdRreynNNKxY8MmfE5HKTUGpBZnHn4GBYuYWPu0ilC2osC41s/rHcNjJwRY0/Noa/d4NSebNVssrhOHKwuao2CWILEsx8javcQbE8OlSyVpqqr5mqT0a4py6bRn4malbjMdzRqtVv16wfDSlrOVA5aMp8tbkOa1aA1LlyG+DOmTgU/E7Gw0guHwwV+Zj9A9e7tB5koKUtIuKAJcuX0JYnd4AuWogJAuQD+kUvAeg8uQQAM6Kf4v65okK4jhzKIzE9cpjkBJPN/oLtPWTvdsGKUC5oUhn0WKP0bWsPJkS0oC8/ukaqGV3LsVPoT0PhGbjZ4A50oZ6ICUkG1wD84xjxZQVmdBUSwQxJ0ZtKUbxpHJHRlNYYVJHp/dSQtQRMImN8DJzEs4GZmA1dqZvGMviOHAmJ94FJWkuyXB2qbVB3EZEriE58uZ1HlIoHBLcyjUs+7BhBsJxBkhJzFiHcmwqQwbWvaKx0Zx7C54G5ktSzkQxQNPhIr5EeHeFsOzVNNGAJJ2rYa/pGgjEh84LgV+JZZ+let36AQoMbnVVYLnRJSWtp8zeNC+KCqQESVE5kvb4QGI9bNARhlGiSNKJuNagsIfmSkq/y1IGtKP4QuvIph7t/7mKkm2rHmPegaKKwuKrBE4fKlSgErNqBLvq9STGWMIoBWag1ZutDGjiEOGTlSAPhFCBpzp+kJPo5VtSg1oAKw0WxX7jP4kuyVORQ5iEkeIsOkaCkqVLGcrzkukIPSwVUebPCEsAgqzIvVK9NbHUU0jUwmGFkhaFnxCqE1OgiU66B8gsPhAZjKK2LO+U5n/wAhX0akU4hLIQoMyQWFSSTX0Dk1jWIEkBmKzV9A4AoNqWhNeDM4jMSAm2jk3Jh1KOk05PI8YxVykYcuYALfOCDEDb1jXmcGTouu37wvM4Qdx5R3R8d4eXZt0RL3qTdL+AMVMuS4OVL2+FvkIOvhqhasLqwqtj6xeMtKf0sbBeTJlpUVBgTcvfz7Qf3bghBc3AodXp+8JGSYkoV7V8hD+WnwzUNcKkTJK1iUSStB510yjKxALDm2pC2G4plKhkNaOliwq7j67d45KSSSB/ao+SFH6QPC4EIluqhX5tHL4iKjVnf4ec3CcU6ilbf79wmHkyCM4CjmLV69BeH5OSWEhMtno9KvU3/mEUlNWUwSKOBfvvHEzsyVE5kmySNaPQCtP1jjas8pjmIntoA7Cih8t66CkLyMUJgACVKIuU0y6MX5R3Ne0XwaVFAM4DmcgG+t60DH57RMDhkIf3WYgmoJFLmlBvcfR4VtJP3AODh05VSpA2KiSSW0BoNvutPdL/OlgxuMzaVDesVxAJrJdVgQS9n5sxJYdB51gsjGTXAop9HoB1a4aJbpVeDCsiQou4TksTZVqXN+vRoGhSU0KlEakMkM/j2MU4lPMtuU5BSjkO+pJ7ecDwc8ioUBnFRag0L6XprFVuavoyXZJ+CY1UCnN8Qex9Ha/nB/xUuW7HMoDtR9A/3TaAT1AbhOnfVtPCAyMGVKJDWJc9Ou8PVr1Mfk1AuWtlsUl7Wfq2gvC2PmhKiMxDk8t2G+bX9IBjJOVCDmBPeor8P3eASAFjmCidw5b9oCglkEh9ODUQCFFj9/3RyBqSBSqW0Y09IkLn9oFP3H+IKVNBOYDKHUQXIBLAlrDS9xpaMwywlwgZT/AHMa79njfxuXIpISEa0YOzs467vtSPJLmqJyMSakkkX1b9dGh9DKpGaXRf3Oq7AcwSNBfp6xSXKANEqOoIt97wsnEskcwO4Y083eDSZnvCAQAHFAWbw1EdFNAPQonPLF7fkLN52G5haSkk5iAut6l72H1MF4SpnTmuGDsWP7UpGjJ4eFEPMKTckFgojQDTw9I5G6k0gxTfAphQSHU1LZDZq8z37CDJUlT0YnUDmPUoDlI/WBrlHOkZWVZKhyipowrmNaOHhpMggOuW5Niku4/wDcUNHNrXhHKnY6tMz/APh5JyhIYF7O50JIv2gsuSkEpmLBa983nQDoBDiJigkBeXJ/ehNKvRKRXS9O9IWmYJ/gNbgkcx/7ase5g7nLDGWUNTJdQ2U1ZImCqW/tYMPGsNrSZASxUtargl2dJHk5EU4ThzKRnnKJUSwB6bb6VvDXuAtyTf7tC6k1orOX/YnKVY7M9YP5lOb+f3aLCYQKHp2HaHZmFalT1DwsZAFGpHH5qlyLvjxRWXjFp+jgGO+/zVcCBqlsb069PpFZCiFEHrcAsYNRYylB4G1WciBO9W+UBxE8lLEg+lt4CZha7tG2E50ngZCasX7O8EXhE/mSG7AHz0gaJhIFBbX9YLJU5YgH08zDLUnHhstFfJxGClJOYFlC3NQRn8Twq5is1S1EudB+pjWmraqaeDiOpw6lh2EOvE6kmryzs/iWtHyUu7fyeOnKUGGWzueuw3NhEwgzTGU2VIruo0oOj/KN7jcqSClBbkqXsSdD3jOzIJPu0ICiw0ehOhoDS8dspVg4J4dAkElXOpk5mAIJdh4Bq+gjQOIkj4UMEq+LKSHYO7EAE2vF1lKC6khWhuDscv8Ac/RoXViCElEuiQPgIKgepLPRyaxD6hTgUlanlgub81CGegcgeoMM4cpCQcqnNaIa25NQm400hOVjeXKhIp0oTq7Joe0Q46YkDM6QbEHTYEUH7QHFvAAy8eVhprhCqNfxtSvjCKMCywpwEPykHMd7NDiQhSsxos1SQKGuzgAwrjp+RWYFyNQabeBH1h4eyGRoSp8xhKZABBJQQEgaOQaP3GusCSnKoDIApWpIWBtlCbdrxkzMUshMwuSfzB9dKXgsviIOV6ZXal/929jB8trgZsKoFExlhqvVI11AZh+8GQUoTmBdVwAwHT5RdMwTTUUNSKHLpejn1+cUwqR7s5gkupw5qQNHP3SBJ2sgeRefjFKUTnV/45tN2rEhpfD8xdJSAbC7eLxIZOFDWW4hiMqQVqDVIYljqABTzjIXi2DhmPjtr9I1V8PCgeZSkH4sw5ugSnT0fWMTiOAXUlSShz8JcA9Q7iK6W2qA4sHNlhVMrDcXtTX1rBsJhUgkkDN3I8YWk4gC4NNel6C+3rB8HLKwVBTK1BrUbbXisuBWaKZgDUL6U9Hh2TOWTRCVB6pzChe56/rGRh5q/eM4V1uB5xt4NcwOEsHvQN4xyzjRXS0nJN+wyrCTE1UQUm+pSK/CAQ3foIClCneWpQA/6arnd9cp7xxMwf8AUbMaCYDUjYC7V7/KG8JPUjnUQgCgcVVTQfZrEG6EtWLSy5UqWSFipzUSAL5XNPWNbCIIBmKOUMaPsbvpZyBAsPJK1PNAUxzBrCpDEPU0NINjwZjpDsK0DOX2iiahHfP8GcqRlYriSphNGAs+ra/tHJeNUkUBB0+zDQwhIb4WvTWFxgl2JBezmOWWpGbtnNJNuzsjicxHwrIet6QweKZhzJBOpDv3O0Z8zBqFwQdDoW2jkmXzBIUxtZw5gOEXkX1LBpoxIVXKG6xQzdwB99o5LbKakq1LN2vBJaUkc2Z+j/fjE2qYdr9xfKHq1fH0MWTJSXcGGDjAkEfMVjsvFA8rIUrQqcRrkZY7FUyS7CoG7+m8NiWAKltXu8T3LMVEMasit47yOAgqI1/iFc2ykZSQYzAAD0Fe+0Hn4kS5ZULEEhqwBUgKIQahNTeMzjGKzFk1CaNa38+kdfhopfzH+C0dR3bMstNLOQHd1Xpudawb3kkJcAO9L5iRQc3VrQssqDKKQ76GEF4hiSpLqVQdL+usdCjuE5G04lZVmLIvfQHozP8ArXpefKKgoocrFa7s3wtU6PTxjLkqzggvsz6CvjWKnEsUu4D1Lk17a6RTZnAaHZshRQwUBM1UeXqYXTi5oaWoFT0avyFOzbQvi8StKnys5uzE2NdB+0McOxLgqFCKAfruYeqVtWZ4IVstlBSVJqnM4LHYQ0jGC0xINwCpNe+bXx3gsviIURmAI8Ket45isOhRKQST00rppSuulom3eGgHcLPk1lzElSQ5AsQ92PrF8LLl5VcjhADk69hqYzZK1SyUgAvqmpbr96RaVLmIUxIO2U00/aA4c5/UJ1GDmLKVO4N6szvRQOraQSRqnK7atUNdyPusAmzFhxpe2+rCJgpxIISVZjUiKO6thGEylNRII3p9TEjgl7k+n6xIG4BqJxSiAtJIQ1JdAVUuSTbVjWM3iEw/lSK3SGseg16w/LwiSrMpydHIYH/EaecZ01OYqyliDUMyQep1PjBgqZ0qLrIouWEkjXTqBt0aKSAp210Ip1qIYmoBNXUoCpHSm0dlIzDUB77xRtCbYvkrgFpzEn4hr1j0isEFgAKYmzn5eUY2FwyVKF3/AMXHnHoUzkyyM7FIrnIDJAAZv0jm1Zew0X6WkKTsZlSErJJGtCwFmpp9Ic4fhFL5s4WjXQ1e1CwcXd6wGfwdM9QmhXKqtRZum0auFlol8iKkNm//AETQdoWMYVvl+SDVvJo4CRJbIVFPSveqt6xJ8kJoFJpc39TcwDEKKuaWDlatr7wP8Q9HJI0jzdbVlqStglPoemCwSX/Tu14RmYB7FjpHQtTUVrZn8vvSK5yKZXPnCLArlfKASuHrUo6NStH8rwvisFlIJ8SG+/CNYW5aH5RwGWAcwofXrDb2DbGjz2ISVF3p2aOy0kGh+2jdMmW9gX3q0DnYdJ5Qlzpr5QfME2dmJMyju+9PKC4fCkufJtfC8aM3hDMrbrFcPgFJ3qadG62guSawbY7yVSjMK2BowAbwhzC4UIdRr1N/JorJylNVi5+2huQpJdKdLkdO8CMHKSSKwS5EcavIgkHmUG8/0jzs+YLOVKOu77P9Y0uPTM62DkJowpXe9vvaM6QcgU+p/MHPkzR6EqXpXCGrozRhyC7kl6BJzA3MIzpS1KCQkhRqHp59P2jTmZkjOBoyQNHu+n3pHcgLzCS7N3e/bv8AKKqVZF7Mk4RSQwIciv3tSEp6XvcfdY18YAPhA/SEZ0h3oo9AH07xbTk3yFZFfxKspQaijdGiDPLqlRcs9L2PhFjLAaoJfqQ1PlDfuXSa99fKKNpBBomqcgEgXvc9Y0pM9KGIWAz1ZgXIcPGbLJS9f5/SOe9KgNP8W+3hJRszQXis3mBSa6tbS3yguDWpwySogEkVNB0MJTQX6ftGjwvGIlMSlzUFiXZxGkvTSyDoIgFRUs8oLZQ2wr2cvHH0Atcgv5COy1FQmKBpnsaOkks8Uw8lKFBV2Pwli8TarkzIuQp+UpI0JH7xI1fxCDUoB65m9HpHIn5nwCxbiEhYOYMEGu/lrApVnajW9XHW8ciQ94LvDHJOBKkhVrMHqfGGTwwMlQCTMf4TmalX8OvWOxIh5sgqbo5NCkqygArZ1EMO3faDyRNy/wBRigOSkVd2NyfukSJAnVh2LdL4/wBmz+H91KJTVy9dSRpozAeUDwWHSJeY79S77mJEjeMbxHoTVXD+5JuICFMDW2reG0Mokt0zV3pEiR50jlWWweLSUM7itwenpBZQSWYv5xIkDoPEqDS5tywSBrf0gSyMwNaa/tEiRg2dlzK0FfBotMWQyWFb/wAxIkAyeAZnFyCNHPWOJnprU2prEiQRdzMafNBNSQT96Fo0pg9zKoeYhvGnyiRI7tBYcuwaebZ5zF43IKkm1GFrXiuBecDUJbubmJEirSjpblyWXBVcgOQVMBUAD6xmzpjJqSD8+g1ESJD6Tt5CynvlFg1CQPkD3eGFqChlsw0/iJEijQpmLPu6irj5k3hqTNBANiA8SJFWrjYz4BzWUlwKXtesAw0nMXFtrbRIkM8WPJBZEwOQDUVdtt9xFpktIBrqKgf7o5EjdgXI5hbEFm7VcdYikMxGkSJEHyxHyXVew8okSJC2Y//Z", // Replace with a relevant image URL
  title: "A HOTEL WITH A DARK PAST?",
  source: "Ooty, October 5, 2021 – Breaking News",
  description: `What was meant to be a peaceful getaway turned into a horrifying tragedy at Hotel Paradise. 
      A woman, reportedly battling psychiatric illness, allegedly murdered her husband before taking her own life. 
      Since then, eerie whispers and ghostly sightings have plagued the property.`,
};

// Fetch News from API
async function fetchNews(query) {
  try {
    const response = await fetch(`${api_url}${query}&apiKey=${api_key}`);
    const data = await response.json();

    if (!data.articles || data.articles.length === 0) {
      console.warn("No articles found. Displaying default news.");
      bindData([]);
      return;
    }

    bindData(data.articles);
  } catch (error) {
    console.error("Error fetching news:", error);
    bindData([]); // Show only default news in case of an error
  }
}

// Bind API Data to News Cards
function bindData(articles) {
  const cardsContainer = document.getElementById("cards-container");
  const newsTemplate = document.getElementById("template-news-card");

  if (!cardsContainer || !newsTemplate) {
    console.error("Error: News container or template not found.");
    return;
  }

  cardsContainer.innerHTML = "";

  // Display API-fetched news first
  articles.forEach((article) => {
    if (!article.urlToImage) return;
    const cardClone = newsTemplate.content.cloneNode(true);
    fillDataInCard(cardClone, article);
    cardsContainer.appendChild(cardClone);
  });

  // Insert the default news article at the last row
  showDefaultNews(cardsContainer, newsTemplate);
}

// Show Default News Article at the Last Row
function showDefaultNews(container, template) {
  const cardClone = template.content.cloneNode(true);
  cardClone.querySelector("#news-img").src = defaultNews.imgSrc;
  cardClone.querySelector("#news-title").textContent = defaultNews.title;
  cardClone.querySelector("#news-source").textContent = defaultNews.source;
  cardClone.querySelector("#news-desc").textContent = defaultNews.description;

  container.appendChild(cardClone);
}

// Fill Data in Each News Card
function fillDataInCard(cardClone, article) {
  const newsImg = cardClone.querySelector("#news-img");
  const newsTitle = cardClone.querySelector("#news-title");
  const newsDesc = cardClone.querySelector("#news-desc");
  const newsSource = cardClone.querySelector("#news-source");

  newsImg.src = article.urlToImage;
  newsTitle.textContent = article.title;
  newsDesc.textContent = article.description;

  const date = new Date(article.publishedAt).toLocaleDateString("en-US", {
    timeZone: "Asia/Kolkata",
    day: "numeric",
    month: "short",
    year: "numeric",
  });

  newsSource.textContent = `${date} | ${article.source.name}`;

  cardClone.querySelector(".card").addEventListener("click", () => {
    window.open(article.url, "_blank");
  });
}

// Handle Navigation Click
function onNavItemClick(id) {
  fetchNews(id);
  const navItem = document.getElementById(id);
  if (curSelectedNav) curSelectedNav.classList.remove("active");
  curSelectedNav = navItem;
  curSelectedNav.classList.add("active");
}

// Handle Search
const searchButton = document.getElementById("search-button");
const searchText = document.getElementById("search-text");

searchButton.addEventListener("click", () => {
  const query = searchText.value.trim();
  if (!query) return;
  fetchNews(query);
  if (curSelectedNav) curSelectedNav.classList.remove("active");
  searchText.value = "";
});
